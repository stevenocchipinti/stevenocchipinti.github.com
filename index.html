
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>StevenOcchipinti.com</title>
  <meta name="author" content="Steven Occhipinti">

  
  <meta name="description" content="It seems the JavaScript community is divided into two camps when it comes to
indentation conventions: two spaces or four? I personally prefer two &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.stevenocchipinti.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="StevenOcchipinti.com" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38345732-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">StevenOcchipinti.com</a></h1>
  
    <h2>Coder.</h2>
  
</hgroup>

</header>
  <nav role="navigation">
  <form action="http://google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="q" value="site:blog.stevenocchipinti.com" />
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
  </form>

<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/travel">Travel</a></li>
  <li><a href="http://flickr.com/stevenocchipinti">Photos</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/">Rewriting Indentation in Every File and Every Commit</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-30T21:51:00+10:00" pubdate data-updated="true">Apr 30<span>th</span>, 2015</time>
        
         | <a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It seems the JavaScript community is divided into two camps when it comes to
indentation conventions: two spaces or four?</p>

<p>I personally prefer two spaces mainly because its what I&rsquo;m used to in Ruby, I
find it easier on the eyes and just that little bit easier to keep my lines
under 80 characters long (yes, I still think this is good practice).</p>

<p>Our team had come to a general consensus for using two spaces, but when we were
starting a new project based on an existing project that used four spaces, we
thought it would be nice to fix all the whitespace in one go.</p>

<p>In a rush, we made a commit that literally replaced all the whitespace with the
following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>find . -type f -exec sed -i <span class="s2">&quot;&quot;</span> <span class="s2">&quot;s/    /  /g&quot;</span> <span class="o">{}</span> <span class="se">\;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The problem with this approach is that it makes going through commit messages
harder. It means that when you use <code>git annotate</code>, every line with indentation
is going to have the whitespace fix as the last commit, so then you would have
to jump back another commit to get the actual commit message for that line,
which can be fairly annoying.</p>

<p>Luckily, if you are forking an existing repository for a new project you have
the luxury of being able to rewrite history without causing any pain to others
as no one else would have checked it out yet.</p>

<p>Git provides a powerful command called <code>filter-branch</code>. It is designed to
rewrite large amounts of history in one go. This can be useful to purge
sensitive information from every commit or update an email address in the
commit data, etc. The only problem with this is, just like rebasing, any
existing checkouts will not be able to simply use <code>git pull</code> cleanly after the
history has been rewritten upstream, but this isn&rsquo;t a problem for new projects.</p>

<p>In order to execute the command above for every commit in our repo, we can make
use of the <code>--tree-filter</code> option like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git filter-branch --tree-filter <span class="s1">&#39;find . -type f -exec sed -i &quot;&quot; &quot;s/    /  /g&quot; {} \;&#39;</span> HEAD
</span></code></pre></td></tr></table></div></figure>


<p>Please note, this can take quite some time, especially for large repositories.
You should also make sure there are no files that specifically need four spaces
(like markdown files, etc.), otherwise you may want to restrict the <code>find</code>
command to only effect files you know are safe to change (<code>*.js</code> for example).</p>

<p>For more information on rewriting history and <code>git filter-branch</code>, see this
<a href="https://git-scm.herokuapp.com/book/en/v2/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch">article</a>
and the
<a href="https://git-scm.herokuapp.com/docs/git-filter-branch">documentation</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/">Safely Rendering Newlines in HTML With CSS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-25T17:39:00+10:00" pubdate data-updated="true">Apr 25<span>th</span>, 2015</time>
        
         | <a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We all know that if you are going to be rendering user provided content on a
HTML page, it should be sanitized just in case they include a nasty script tag
or something.</p>

<p><a href="https://facebook.github.io/react/">React</a>
will automatically sanitize any string being rendered to the screen unless you
<a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html">jump through hoops</a>
first &ndash; which is great because making this difficult means its somewhat harder
to inadvertently create a
<a href="https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29">XSS vulnerability</a>.</p>

<p>However, if you get a string from a human source and want to display that in a
<code>div</code> tag while maintaining its newlines, this becomes a little harder because
you don&rsquo;t want to replace all <code>\n</code> characters with <code>&lt;br /&gt;</code> tags because this
would mean you would also need to disable the sanitizing.</p>

<p>There are some libraries to deal with this sort of thing that implement white
listing of tags, etc.<br/>
Another alternative would be using something like
<a href="https://daringfireball.net/projects/markdown/">Markdown</a>.<br/>
Even a simple <code>&lt;pre&gt;</code> tag will get you pretty far, but today I read an article
that shows how you can achieve this with a little CSS:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.pre</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">white-space</span><span class="o">:</span> <span class="n">pre</span><span class="o">-</span><span class="n">line</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>For more details, I recommend having a read of
<a href="https://css-tricks.com/almanac/properties/w/whitespace/">this article</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/">Disabling the Same Origin Policy in Chrome</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-12T16:20:00+10:00" pubdate data-updated="true">Apr 12<span>th</span>, 2015</time>
        
         | <a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you ever needed to circumvent the browsers
<a href="https://en.wikipedia.org/wiki/Same-origin_policy">Same Origin Policy (SOP)</a>
so you don&rsquo;t need to add
<a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross Origin Resource Sharing (CORS)</a>
headers just to test out an idea, here is a quick little hack to open a new
instance of Chrome that will not enforce these security features:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>alias unsafe-chrome='/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=~/Library/Application\ Support/Google/UnsafeChrome --disable-web-security 2&gt; /dev/null'</span></code></pre></td></tr></table></div></figure>


<p>The important options here are:</p>

<p><code>--disable-web-security</code> &ndash; This will disable the Same Origin Policy<br/>
<code>--user-data-dir=...</code> &ndash; This launches a separate instance, with its own user data
directory.<br/>
This prevents you from needing to close any current instances of chrome,
otherwise running this command will just bring the existing instance into focus.</p>

<p>Another good thing about giving this instance its own <code>user-data-dir</code> is that
you can give this instance its own settings. For example, this instance is not
signed into my Google account and I&rsquo;ve configured a bright red theme so I can
easily tell the difference between my normal Chrome and my insecure Chrome!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2015/04/04/configuring-a-hdmi-cec-remote-in-kodi/">Configuring a HDMI-CEC Remote in Kodi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-04-04T21:39:00+11:00" pubdate data-updated="true">Apr 4<span>th</span>, 2015</time>
        
         | <a href="/2015/04/04/configuring-a-hdmi-cec-remote-in-kodi/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve been using Raspbmc for a while now, but I only just saw that it has been
superseded by <a href="https://osmc.tv/">OSMC</a> (and XBMC is now called <a href="http://kodi.tv/">Kodi</a>,
so with the long weekend I thought I&rsquo;d upgrade.</p>

<p>The upgrade process is really simple. I backed up my existing installtion of
Raspbmc, downloaded the offical <a href="https://osmc.tv/download/">OSMC installer</a>
from their site, installed it over the top and booted it up.</p>

<p>From here, there are only a few things to do. I entered my <a href="https://osmc.tv/help/wiki/pi-buycodec">MPG2 and WVC1 codecs</a>,
setup my video sources and kicked off the scrapers and installed a few addons.
The only other thing is setting up my TV remote.
(I did this last time but forgot how, so this time I thought I&rsquo;d blog it!)</p>

<p>Out of the box, my Samsung <em>&ldquo;Smart Touch&rdquo;</em> Remote (<a href="http://reviews.lcdtvbuyingguide.com/samsung-lcd-tv/pictures/samsung-f6400-remote.jpg">this one</a>
if you&rsquo;re wondering) mostly just works, the only problem is the back button
opens the context menu instead of going back!</p>

<p>To fix this, the first step is to find out what each button on the remote maps
to in Kodi. Thanks to this great <a href="http://forum.kodi.tv/showthread.php?tid=139145&amp;pid=1285390#pid1285390">forum post</a>
by a user called &ldquo;Knapster&rdquo; this is really easy.</p>

<p>Just SSH to the pi, create a new file <code>~/.kodi/userdata/keymaps/remote.xml</code> and
paste <a href="https://gist.github.com/stevenocchipinti/42f2eca2a9f04ed9e52f">this contents</a>
in it. Now reboot Kodi and everytime you press a button, you&rsquo;ll get a
notification on the screen of what command it is sending.</p>

<p>A quick way of doing that from an SSH session is like this:<br/>
(The default username and password are both <code>osmc</code>)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh osmc@&lt;kodi-ip-address&gt;
</span><span class='line'>curl https://gist.githubusercontent.com/stevenocchipinti/42f2eca2a9f04ed9e52f/raw/remote.xml &gt; ~/.kodi/userdata/keymaps/remote.xml
</span><span class='line'>sudo reboot</span></code></pre></td></tr></table></div></figure>


<p>In my case, everything seemed to make sense except the back button, which was
actually sending <code>title</code> instead of <code>back</code>. As I don&rsquo;t have a <em>title</em> button,
I&rsquo;m going to reassign that to be a back button instead.</p>

<p>First, lets replace our <code>remote.xml</code> with the default configuration, you can get
these mappings from the installed Kodi files:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cp /usr/share/kodi/system/keymaps/remote.xml ~/.kodi/userdata/keymaps/remote.xml</span></code></pre></td></tr></table></div></figure>


<p>This file has what every command does in every context and makes it easy to
modify. Here is a diff of the changes I made for my remote:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>58c58
</span><span class='line'>&lt;       &lt;title&gt;ContextMenu&lt;/title&gt;
</span><span class='line'>---
</span><span class='line'>&gt;       &lt;title&gt;Back&lt;/title&gt;
</span><span class='line'>74c74
</span><span class='line'>&lt;       &lt;guide&gt;ActivateWindow(TVGuide)&lt;/guide&gt;
</span><span class='line'>---
</span><span class='line'>&gt;       &lt;guide&gt;ActivateWindow(Home)&lt;/guide&gt;
</span><span class='line'>79c79
</span><span class='line'>&lt;       &lt;red&gt;ActivateWindow(TVChannels)&lt;/red&gt;
</span><span class='line'>---
</span><span class='line'>&gt;       &lt;red&gt;ContextMenu&lt;/red&gt;</span></code></pre></td></tr></table></div></figure>


<p>I&rsquo;ve made the <em>&ldquo;title&rdquo;</em> button send the <code>back</code> command and because I don&rsquo;t have
a TV tuner connected, I&rsquo;ve also re-assigned the <em>&ldquo;TV Guide&rdquo;</em> button to go to the
home screen and the <em>&ldquo;Red&rdquo;</em> button to be the context menu button.<br/>
Interestingly, the channel up and down buttons on my remote we already assigned
to page up and page down, which suits me great while I don&rsquo;t have a TV Tuner.</p>

<p>After rebooting, I now have a functional remote control!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2015/03/24/git-reset-cheatsheet/">Git Reset Cheatsheet</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-03-24T11:13:00+11:00" pubdate data-updated="true">Mar 24<span>th</span>, 2015</time>
        
         | <a href="/2015/03/24/git-reset-cheatsheet/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The <code>reset</code> command in git does quite a lot, but I always forget all its uses.<br/>
This is a cheatsheet based on <a href="http://git-scm.com/blog/2011/07/11/reset.html">this blog</a>.</p>

<p>The <code>reset</code> command will:<br/>
1. Move whatever branch <code>HEAD</code> points to <em>(stop here unless <code>--soft</code>)</em><br/>
2. THEN, make the Index look like that <em>(stop here unless <code>--hard</code>)</em><br/>
3. THEN, make the Working Directory look like that</p>

<h2>Commit level</h2>

<table style="border-collapse:collapse;margin-bottom:30px;table-layout:fixed;width:100%;">
<tbody><tr>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:40%;">
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Current Branch?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Index?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Working Dir?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Working Dir Safe?
</th>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>reset --soft [commit]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>reset (--mixed) [commit]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>reset --hard [commit]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<span style="color: rgb(255, 38, 0);">NO</span>
</th>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>checkout [commit]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
</tr>
</tbody></table>


<p><strong>reset &#45;&#45;soft [commit]</strong><br/>
When given <code>HEAD~</code>, this undos the git commit<br/>
Will move the current branch back to the given commit, but not update the index or working directory<br/>
This provides similar functionality as <code>git checkout --amend</code> (but changing the whole commit, not just the message)</p>

<p><strong>reset (&#45;&#45;mixed) [commit] <span style="color: rgb(160, 160, 160); font-weight: normal;">(default form)</span></strong><br/>
When given <code>HEAD~</code>, this undos the <code>git commit</code> and the <code>git add</code><br/>
Will move the current branch and update the index, but working directory will remain untouched</p>

<p><strong>reset &#45;&#45;hard [commit] <span style="color: rgb(255, 38, 0);">(unsafe)</span></strong><br/>
When given <code>HEAD~</code>, this undos the <code>git commit</code>, <code>git add</code> and also the changes in the working directory<br/>
Will update all three trees to match the given commit<br/>
This is useful to remove commits you don’t want<br/>
From a clean working tree, it is also useful to undo a conflicted (or not conflicted) <code>git merge</code> or a <code>git pull</code><br/>
From a dirty working tree, use <code>--merge</code> instead, this will safely preserve your local changes<br/>
The <code>--keep</code> option is useful when removing some of the last commits while safely keeping your local changes</p>

<p><strong>checkout [commit]</strong><br/>
When given <code>HEAD~</code>, this will safely update the working directory and the index without moving the current branch<br/>
This will leave you in a <em>detached HEAD</em> state</p>

<h2>File level</h2>

<table style="border-collapse:collapse;margin-bottom:30px;table-layout:fixed;width:100%;">
<tbody><tr>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:40%;">
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Current Branch?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Index?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Updates Working Dir?
</th>
<th style="border: 1px solid rgb(219, 219, 219); padding: 10px; margin: 0px;width:15%;">
Working Dir safe?
</th>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>reset (commit)&nbsp;[file]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
</tr>
<tr>
<th style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<code>checkout (commit) [file]</code>
</th>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
NO
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
YES
</td>
<td style="border-style:solid;border-width:1px;border-color:rgb(219,219,219);padding:10px;margin:0px;width:20%;">
<span style="color: rgb(255, 38, 0);">NO</span>
</td>
</tr>
</tbody></table>


<p><strong>reset (commit) [file]</strong><br/>
When given a file path, the first step of updating the branch that <code>HEAD</code> points to is skipped<br/>
Will update the index only to match commit, leaving both working directory and current branch untouched<br/>
From here, you could use <code>git checkout</code> to make the working directory match the index, although <code>git checkout</code> can do that with one command (see below)<br/>
The commit parameter will default to <code>HEAD</code> which effectively <em>un-stages</em> files</p>

<p><strong>checkout (commit) [file] <span style="color: rgb(255, 38, 0);">(unsafe)</span></strong><br/>
Updates the working directory only, without changing the index, current branch or even what <code>HEAD</code> is pointing to<br/>
This would effectively be <code>git reset --hard [branch] file</code>, but this command does not exist</p>

<p>More info and examples in <code>git reset --help</code></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/12/29/sending-email-from-the-command-line/">Sending Email From the Command Line</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-12-29T12:50:00+11:00" pubdate data-updated="true">Dec 29<span>th</span>, 2014</time>
        
         | <a href="/2014/12/29/sending-email-from-the-command-line/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&rsquo;s so easy to write little scripts and execute them at a later time with
the standard command-line tooling available in unix-like operating systems, but
if you plan on having them execute while you are out and about, it would be nice
to get a notification on your phone that it worked (or didn&rsquo;t work).</p>

<p>If you&rsquo;re happy with a simple email notification, then luckily this can be done
with one simple line of code!</p>

<p>On a mac:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Hello&quot;</span> | mail -s <span class="s2">&quot;Your alert&quot;</span> to-addr@example.com -f from-addr@example.com
</span></code></pre></td></tr></table></div></figure>


<p>On *nix:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Hello&quot;</span> | mail -s <span class="s2">&quot;Your alert&quot;</span> to-addr@example.com -aFrom:from-addr@example.com
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/03/17/introduction-to-vim-for-ide-users/">Introduction to Vim for IDE Users</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-17T17:23:00+11:00" pubdate data-updated="true">Mar 17<span>th</span>, 2014</time>
        
         | <a href="/2014/03/17/introduction-to-vim-for-ide-users/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>I&rsquo;d love to learn Street Fighter 2, but there are just so many combos! <br/>
&ndash; <a href="http://robots.thoughtbot.com/the-vim-learning-curve-is-a-myth">The Vim Learning Curve is a Myth</a>, Thoughtbot</p></blockquote>

<p>A lot of people are scared of learning of vim because of the initial learning curve.</p>

<p>When learning vim for the first time there are lots of approaches, but two common ways are:</p>

<ol>
<li>Learn &ldquo;pure&rdquo; vi/vim, then introduce vimrc options and then plugins</li>
<li>Start with an existing &ldquo;customization&rdquo; (from someone else), then learn what things do</li>
</ol>


<p>Once upon a time, I would have suggested learning the basic features of vim before getting into customization, but there are quite a lot of people who are not interested in learning the tool unless they can be productive straight away.<br/>
When coming from an IDE, the apparent shortcomings of a less integrated text editor will scare them away before they have discovered the power of editing text with vim.</p>

<p>This guide is aimed at those people. I want to outline some steps to learn vim that makes the transition from IDE to vim as easy as possible with the hope of making vim a less scary step.</p>

<h2>Installing Vim</h2>

<p>Most systems will come with a version of vim, but you may want to get the latest version from the systems package manager for a more complete feature set.</p>

<p>On a mac, the standard install of <code>vim</code> is missing clipboard support so I would recommend installing MacVim, here is how I do it with homebrew:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew install macvim
</span><span class='line'>brew linkapps</span></code></pre></td></tr></table></div></figure>


<p>This package provides <code>mvim</code> on the command line, but <code>vim</code> will still refer to the system version, so I setup a couple of aliases in my <code>.bash_profile</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>alias vim="mvim -v"
</span><span class='line'>alias vi="vim"</span></code></pre></td></tr></table></div></figure>


<h2>Basic Usage</h2>

<p>This guide is more about setting up vim in a manner that won&rsquo;t seem too crippling when coming from an IDE, so I won&rsquo;t focus too much on editing effectively with vim here.</p>

<p>If vim is completely new to you and you don&rsquo;t know the basics such as the difference between <em>command mode</em> and <em>insert mode</em> or how to quit vim, I would recommend pausing the guide here and running <code>vimtutor</code> in your terminal to learn the basics.</p>

<h2>Configuring Vim</h2>

<p>Vim uses a <code>.vimrc</code> configuration file in your home directory. There is a plethora of configuration options you can put here, but I thought I would offer some basic options to get you started.</p>

<p>My <a href="https://github.com/stevenocchipinti/dotvim/blob/master/vimrc"><code>.vimrc</code></a> is quite large, but here is a snippet for some basic options that you can put into your own <code>.vimrc</code> to get started:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>filetype plugin indent on
</span><span class='line'>syntax on
</span><span class='line'>
</span><span class='line'>set ts=2 sw=2         " Use 2 spaces for tabs
</span><span class='line'>set expandtab         " Use spaces instead of tab characters
</span><span class='line'>set wrap              " Wrap the display lines (not actual text)
</span><span class='line'>set linebreak
</span><span class='line'>set backspace=indent,eol,start
</span><span class='line'>set incsearch         " Show matching search results as typing
</span><span class='line'>set ruler             " Show row and column in status bar
</span><span class='line'>set wildmenu          " Nicer tab completion for :ex commands
</span><span class='line'>set ignorecase        " Case insensitive search by default
</span><span class='line'>set smartcase         " Use case sensitive search in a capital letter is used
</span><span class='line'>set warn              " Show what mode your in (insert, etc.)
</span><span class='line'>set scrolloff=3       " Number of lines to always show at at the top and bottom
</span><span class='line'>set autoindent        " Copy the indentation from the previous line
</span><span class='line'>set colorcolumn=81    " Highlight the 81st column (shorthand = :set cc=81)
</span><span class='line'>set cursorline        " Highlight the line which the cursor is on
</span><span class='line'>set laststatus=2      " Always show a status bar
</span><span class='line'>set mouse=a           " Make the mouse work - even in terminals
</span><span class='line'>set list              " Show `listchars` characters
</span><span class='line'>set listchars=tab:=»,trail:·
</span><span class='line'>
</span><span class='line'>" Easier way to copy and paste from the global clipboard
</span><span class='line'>map &lt;leader&gt;p "+p
</span><span class='line'>map &lt;leader&gt;y "+y</span></code></pre></td></tr></table></div></figure>


<h2>Navigating code</h2>

<p>Vim has builtin support for <code>ctags</code>, which indexes your code and allows you to jump to the definition of a method or class. As usual, on a mac you will have a standard version of <code>ctags</code> installed, but it&rsquo;s not very good, so I recommend installing the <em>exuberant ctags</em> package from homebrew:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew install ctags
</span><span class='line'>sudo mv /usr/bin/ctags{,-bsd}
</span><span class='line'>sudo ln -s /usr/local/Cellar/ctags/5.8/bin/ctags /usr/bin/ctags</span></code></pre></td></tr></table></div></figure>


<p>To make use of ctags, in the root of a project run the following command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ctags -R .</span></code></pre></td></tr></table></div></figure>


<p>This will need to be run when the code changes to keep the tags file up to date, so I have setup <a href="http://tbaggery.com/2011/08/08/effortless-ctags-with-git.html">git hooks</a> to automate this. If you don&rsquo;t want to setup git hooks, you can execute this command from within vim with <code>:!ctags -R .</code></p>

<p>Now if you open some code, move your cursor over an occurrence of a method or class, you can jump into the definition of that method or class with the following key bindings:</p>

<p><code>crtl</code> + <code>]</code> = Jump to definition (of what is under the cursor)<br/>
<code>crtl</code> + <code>T</code> = Jump back from following a tag</p>

<p>The following key bindings are also useful for navigation and do <em>not</em> require ctags:</p>

<p><code>/foo</code> = Search for <code>foo</code><br/>
<code>*</code> = Search for the word under the cursor<br/>
<code>n</code> = Jump to the next occurrence of the search<br/>
<code>N</code> = Jump to the previous occurrence of the search<br/>
<code>crtl</code> + <code>o</code> = Go back from the last jump<br/>
<code>crtl</code> + <code>i</code> = Go forward to the recent jump</p>

<h2>Vim Plugins</h2>

<p>Vim has a plugin system, but by default it does not do a good job of keeping plugins isolated from each other. To improve this, there are plugins that manage plugins.<br/>
I recommend using <a href="https://github.com/gmarik/vundle">Vundle</a>, here is how to set it up along with a few useful vim plugins:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir -p ~/.vim/bundle
</span><span class='line'>git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle</span></code></pre></td></tr></table></div></figure>


<p>Then place the following at the top of your <code>.vimrc</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>filetype off
</span><span class='line'>set rtp+=~/.vim/bundle/vundle/
</span><span class='line'>call vundle#rc()
</span><span class='line'>Bundle 'gmarik/vundle'
</span><span class='line'>Bundle 'kien/ctrlp.vim'
</span><span class='line'>Bundle 'scrooloose/nerdtree'
</span><span class='line'>Bundle 'tpope/vim-rails'
</span><span class='line'>Bundle 'tpope/vim-fugitive'
</span><span class='line'>Bundle 'tpope/vim-commentary'
</span><span class='line'>Bundle 'tpope/vim-repeat'
</span><span class='line'>Bundle 'tpope/vim-surround'
</span><span class='line'>Bundle 'tpope/vim-cucumber'
</span><span class='line'>Bundle 'bogado/file-line'
</span><span class='line'>Bundle 'godlygeek/tabular'
</span><span class='line'>Bundle 'ecomba/vim-ruby-refactoring'
</span><span class='line'>Bundle 'scrooloose/syntastic'
</span><span class='line'>Bundle 'vim-scripts/matchit.zip'
</span><span class='line'>Bundle 'kchmck/vim-coffee-script'
</span><span class='line'>Bundle 'cakebaker/scss-syntax.vim'
</span><span class='line'>filetype plugin indent on</span></code></pre></td></tr></table></div></figure>


<p>Then, I choose configure some of those plugins towards the bottom of the <code>.vimrc</code> like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>" NERDTREE PLUGIN - (mnemonic: Files)
</span><span class='line'>nmap &lt;leader&gt;f :NERDTreeToggle
</span><span class='line'>nmap &lt;leader&gt;F :NERDTreeFind
</span><span class='line'>
</span><span class='line'>" AIRLINE PLUGIN
</span><span class='line'>let g:airline#extensions#tabline#enabled = 1
</span><span class='line'>let g:airline#extensions#tabline#show_buffers = 0
</span><span class='line'>
</span><span class='line'>" CTRL-P PLUGIN
</span><span class='line'>let g:ctrlp_user_command = {
</span><span class='line'>\   'types': {
</span><span class='line'>\     1: ['.git/', 'cd %s && git ls-files'],
</span><span class='line'>\     2: ['.hg/', 'hg --cwd %s locate -I .'],
</span><span class='line'>\   },
</span><span class='line'>\   'fallback': 'find %s -type f'
</span><span class='line'>\ }</span></code></pre></td></tr></table></div></figure>


<p>Now, from within vim, run <code>:BundleInstall</code></p>

<h2>Next steps</h2>

<p>At this point, you should have a somewhat powerful installation of vim, the next step is to learn how to use this power. Below are some resources to help you learn how to use vim effectively.</p>

<ul>
<li>run <code>vimtutor</code> on the command line to learn</li>
<li><a href="http://vimcasts.org/">vimcasts</a></li>
<li><a href="http://www.vimgolf.com/">vimgolf</a></li>
<li><a href="http://github.com/stevenocchipinti/dotvim">my .vimrc</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2014/03/10/completely-removing-a-git-commit-due-to-sensitive-information/">Completely Removing a Git Commit Due to Sensitive Information</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-10T15:07:00+11:00" pubdate data-updated="true">Mar 10<span>th</span>, 2014</time>
        
         | <a href="/2014/03/10/completely-removing-a-git-commit-due-to-sensitive-information/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently made a big mistake and checked in some sensitive information into a
public GitHub repository.</p>

<p>The first reaction is to remove that sensitive information. While that is a good
first step, making a new commit to remove the information means that when anyone
looks at the commit history, the sensitive information will still be visible.</p>

<h2>Re-writing history</h2>

<p>The next step is to re-write the git history.<br/>
This can be done a few ways, but I took a simple approach and sqaushed the
commits down such that the addition and removal of the sensitive information
cancel each other out and the new commit doesn&rsquo;t contain any sensitive
information.</p>

<p>To demonstrate, here is the history of a git respository where some sensitive
information was commited in <code>bbd80c4</code> and then removed in <code>a120437</code>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$&gt; git log --oneline
</span><span class='line'>a120437 Ooops... remove sensitive data!
</span><span class='line'>bbd80c4 Add some more data
</span><span class='line'>0115d7b Add some data
</span><span class='line'>20133f4 Initial commit
</span><span class='line'>
</span><span class='line'>$&gt; git show bbd80c4
</span><span class='line'>diff --git a/data b/data
</span><span class='line'>index f8327c3..afbbccd 100644
</span><span class='line'>--- a/data
</span><span class='line'>+++ b/data
</span><span class='line'>@@ -1 +1,3 @@
</span><span class='line'> KEY=value
</span><span class='line'>+MORE=data
</span><span class='line'>+PASSWORD=secret
</span><span class='line'>
</span><span class='line'>$&gt; git show a120437
</span><span class='line'>diff --git a/data b/data
</span><span class='line'>index afbbccd..1f0aa11 100644
</span><span class='line'>--- a/data
</span><span class='line'>+++ b/data
</span><span class='line'>@@ -1,3 +1,2 @@
</span><span class='line'> KEY=value
</span><span class='line'> MORE=data
</span><span class='line'>-PASSWORD=secret
</span></code></pre></td></tr></table></div></figure>


<p>From here, I used git&rsquo;s interactive rebase feature to modify the relevant
commits. In this case, I chose the commit just before the sensitive data was
added, like this: <code>git rebase -i 0115d7b</code></p>

<p>In the interactive editor, I did the following and then provided a new commit
message:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pick a120437 Ooops... remove sensitive data!
</span><span class='line'>squash bbd80c4 Add some more data</span></code></pre></td></tr></table></div></figure>


<p>This resulted in the last 2 commits being merged into a new one.<br/>
Here is the history:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$&gt; git log --oneline
</span><span class='line'>fd04bfc Add some more data
</span><span class='line'>0115d7b Add some data
</span><span class='line'>20133f4 Initial commit
</span><span class='line'>
</span><span class='line'>$&gt; git show fd04bfc
</span><span class='line'>diff --git a/data b/data
</span><span class='line'>index f8327c3..1f0aa11 100644
</span><span class='line'>--- a/data
</span><span class='line'>+++ b/data
</span><span class='line'>@@ -1 +1,2 @@
</span><span class='line'> KEY=value
</span><span class='line'>+MORE=data</span></code></pre></td></tr></table></div></figure>


<p>Rewriting commits that have already been pushed to a remote means a couple of
things.<br/>
For one, when you push this new history to the remote, you may require
the <code>--force</code> option to disregard the existing history.<br/>
Also, anyone who has an existing clone of the repository will have issues when
they pull down the latest changes but in the case of sensitive information, this
is a necessary side-effect.</p>

<h2>Cleaning up the cached commits</h2>

<p>We&rsquo;re not done yet!<br/>
Git keeps track of all changes made to a repository, even though the history
does not show the <em>bad</em> commits, they are still there! You can view all changes
to the repository using <code>git reflog</code>. From this command you can find the SHA of
the <em>bad</em> commit and then use <code>git show</code> to see the sensitive information.</p>

<p>This means that GitHub also still has the <em>bad</em> commits and if you know the SHA
you will be able to find that sensitive information again.
To fix this we should clear the local cache and GitHub&rsquo;s cache.</p>

<p>You can clear the your local reflog by issuing these commands:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rm -rf .git/refs/original/
</span><span class='line'>git reflog expire --expire=now --all
</span><span class='line'>git gc --prune=now
</span><span class='line'>git gc --aggressive --prune=now</span></code></pre></td></tr></table></div></figure>


<p>GitHub doesn&rsquo;t give us a way to clear a repositorys cache, but due to the
nature of git, simply deleting the repository and pushing a new copy of your
local repository to GitHub will effectively destroy that cache.</p>

<p>GitHub also have an article on how to <a href="https://help.github.com/articles/remove-sensitive-data">remove sensitive data</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/12/14/preparing-for-trailwalker/">Preparing for TrailWalker</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-14T22:49:00+11:00" pubdate data-updated="true">Dec 14<span>th</span>, 2013</time>
        
         | <a href="/2013/12/14/preparing-for-trailwalker/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Back in 2011, I attempted <a href="trailwalker.oxfam.org.au">The Oxfam TrailWalker</a>.<br/>
I didn&rsquo;t finish the full 100km &ndash; due to injuries I had to stop at about 60km,
but it was quite an experience none the less.</p>

<p>Recently a friend asked me what I did to prepare for TrailWalker, so here is a
quick post to explain some key points that helped me.</p>

<h2>1. Do as much training as possible!</h2>

<p>Expect to spend many months of weekends leading up to the event for training.<br/>
Start small (short, flat walks. Yarra trail, etc.) and work your way up to the
harder ones (hill climbs, longer distances, etc.)<br/>
Try to go every weekend, the more you do, the more your body will become
conditioned for hiking.<br/>
Go rain, hail, shine, day, night, etc. It&rsquo;ll help you realize what you need
(food, water-proof shoes/pants, stronger torch, etc.).<br/>
Try to fit in at least one night hike and one long hike well before the event
to see how you cope.<br/>
You could pick a different segment of the actual track every weekend so you get
an idea of what the event will be like.</p>

<h2>2. Find your weak points</h2>

<p>My first training hike, I got blisters.<br/>
For me, I had to use better socks (didn&rsquo;t think it would actually help, but it
made a huge difference!).<br/>
I also spoke to professionals and learned how to strap my feet properly and
ensured my laces were done up tight enough.<br/>
All this with shoes that actually fit my feet properly meant I never got
blisters again.<br/>
I&rsquo;m glad too, in the medical tents, there were people with epic blisters!
&hellip;Scary stuff!</p>

<h2>3. Hydration</h2>

<p>It&rsquo;s worth reading up on how to hydrate properly. My memory is a little
sketchy, but you have to pace yourself with water.<br/>
Too much and you flush your body of minerals, feel bloated, etc.<br/>
Not enough and you are more likely to suffer from exhaustion.<br/>
Sip instead of gulp.<br/>
You may want to supplement with electrolytes. This is also available in a
powder that you can mix into your water.</p>

<h2>4. Food</h2>

<p>Something worth reading up on too.<br/>
I found having frequent small meals with a mix of high-GI and low-GI
ingredients worked the best.<br/>
For example, a single snack would be a slice of multi-grain bread (low-GI) with
jam (high-GI), folded in half and individually wrapped.<br/>
This made it easy to pull one out of a bad on the go. Sugary muesli bars also
work pretty well.<br/>
Make sure you drink water whenever you eat too, it&rsquo;ll help with digestion and
keep you from feeling too hungry.</p>

<h2>5. Shoes</h2>

<p>Like I said earlier, get shoes that fit your feet properly &ndash; Movement and
rubbing will get pretty bad as you work towards 100km!<br/>
Don&rsquo;t buy new shoes just before they event, they need time to be broken in. If
you want to buy new shoes, allow at least 3 or 4 training hikes in them first
(preferably the smaller training hikes).</p>

<h2>6. Sleeping</h2>

<p>We decided against sleeping, we thought it would be harder to get going again
afterwards.<br/>
In hindsight I think a couple of powernaps would have helped a fair bit.<br/>
If you do decide to sleep, I would probably recommend getting your support crew
to bring blankets and also wake you up before you sleep for too long.</p>

<h2>7. Team dynamics</h2>

<p>Teams can get on each others nerves after spending so long with each other,
especially when your extremely exhausted.<br/>
Patience is key, but also sticking together is very important.<br/>
Sometimes, some team members will want to go faster than others, this can cause
issues and may result in the team splitting up during the event &ndash; this is not
ideal and should be avoided.<br/>
Make sure your team has the same goal for the event (i.e. &ldquo;just finishing&rdquo; or
&ldquo;getting a good time&rdquo;).<br/>
One strategy is to let the slowest in the team lead the way.</p>

<h2>Conclusion</h2>

<p>TrailWalker was a great experience (other than the injuries I incurred).<br/>
You have to work quite hard (especially if you&rsquo;ve never done hiking before, like
myself) but it all adds to a fantastic sense of accomplishment at the end &ndash;
even if you don&rsquo;t finish.<br/>
I learned a lot by doing this and even though training every weekend was tiring,
it was actually a lot of fun.<br/>
It was definitely a step out of my comfort zone, but I would recommend others
to give it a go &ndash; and it&rsquo;s for a great cause!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/11/10/installing-minecraft-in-linux/">Installing Minecraft in Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-10T12:26:00+11:00" pubdate data-updated="true">Nov 10<span>th</span>, 2013</time>
        
         | <a href="/2013/11/10/installing-minecraft-in-linux/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>1. Download Oracle Java</h2>

<p>First you will need the official Oracle version of Java (the open source
alternatives will probably not work as well for Minecraft). I think you can
just download the runtime, but I personally opt for installing the complete
Java Development Kit (JDK).</p>

<p>You can download the <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">official JDK here</a>.<br/>
If you run a RedHat based distro, there is a <code>.rpm</code>, otherwise just get the
<code>.tgz</code> for your system.</p>

<h2>2. Installing Oracle Java</h2>

<p>At the time of writing, the version of java is 7u45.<br/>
I move this <code>.tar.gz</code> file from my downloads folder to <code>/opt</code> and unzip it
there, like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mv ~/Downloads/jdk-7u45-linux-x64.tar.gz /opt
</span><span class='line'>cd /opt
</span><span class='line'>tar xzvf jdk-7u45-linux-x64.tar.gz</span></code></pre></td></tr></table></div></figure>


<p>This will create a new directory called <code>jdk1.7.0_45</code>.<br/>
As there is a good chance we will be updating java in the future, I create a
symlink that we can easily change to the new versions in the future like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ln -s jdk1.7.0_45 jdk</span></code></pre></td></tr></table></div></figure>


<p>Now when ever you want to find java, it will be in <code>/opt/jdk</code>.</p>

<p>All we have to do now is make the executables available on the <code>PATH</code>.<br/>
Edit your <code>.bashrc</code> (or <code>.profile</code>, etc.) and add this line:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>export PATH=$PATH:/opt/jdk/bin/</span></code></pre></td></tr></table></div></figure>


<h2>3. Install Minecraft</h2>

<p>Get Minecraft from the <a href="https://minecraft.net/download">official Minecraft download page</a>.
Under the &ldquo;Minecraft for Linux / Other&rdquo; there is a link to download the
official Minecraft <code>.jar</code> file.  I also put this in <code>/opt</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir /opt/minecraft
</span><span class='line'>mv ~/Downloads/Minecraft.jar /opt/minecraft</span></code></pre></td></tr></table></div></figure>


<p>At this point we can start Minecraft with this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>java -jar Minecraft.jar</span></code></pre></td></tr></table></div></figure>


<h2>4. Setting up an Application Launcher for Gnome</h2>

<p>I use Gnome Shell and if I&rsquo;m not in a terminal, I normally use Gnome&rsquo;s
<em>Activities Overview</em> to launch apps by pressing the &lsquo;super&rsquo; key, typing
&ldquo;Minecraft&rdquo; and pressing &lsquo;enter&rsquo;.</p>

<p>We want Minecraft to be installed just like any other app, so we will need to
add a launcher for Minecraft, but before we do that, we need an icon for it.
I just found one online, so lets download it to our <code>/opt/minecraft</code> directory.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd /opt/minecraft
</span><span class='line'>wget http://images.wikia.com/yogbox/images/d/dd/Minecraft_Block.svg</span></code></pre></td></tr></table></div></figure>


<p>Then to make an application launcher, you can use this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gnome-desktop-item-edit --create-new ~/.local/share/applications</span></code></pre></td></tr></table></div></figure>


<p><img class="center" src="https://lh5.googleusercontent.com/-9VnJ9K_nqQo/Un72Np6LzPI/AAAAAAAABTg/PVig82azah8/w435-h224-no"></p>

<p>You can assign it the logo we downloaded earlier and use this for the command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/opt/jdk/bin/java -jar /opt/minecraft/Minecraft.jar</span></code></pre></td></tr></table></div></figure>


<h2>5. Have fun!</h2>

<p>Now you can launch Minecraft just like the other apps in Gnome Shell!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/2/">&larr; Older</a>
    
    <a href="/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <ul class="social-icons">
    <li><a class="social-rss" href="/atom.xml" title="subscribe via RSS">RSS</a></li>
    <li><a class="social-github" href="https://github.com/stevenocchipinti" title="GitHub">GitHub</a></li>
    <li><a class="social-linkedin" href="http://au.linkedin.com/pub/steve-occhipinti/18/55/750" title="LinkedIn">LinkedIn</a></li>
    <li><a class="social-flickr" href="http://flickr.com/stevenocchipinti" title="Flickr">Flickr</a></li>
    <li><a class="social-twitter" href="http://twitter.com/steveocchipinti" title="Twitter">Twitter</a></li>
    <li><a class="social-facebook" href="http://facebook.com/stevenocchipinti" title="Facebook">Facebook</a></li>
  </ul>
  <div style="clear: both;"/>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/">Rewriting Indentation in Every File and Every Commit</a>
      </li>
    
      <li class="post">
        <a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/">Safely Rendering Newlines in HTML With CSS</a>
      </li>
    
      <li class="post">
        <a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/">Disabling the Same Origin Policy in Chrome</a>
      </li>
    
      <li class="post">
        <a href="/2015/04/04/configuring-a-hdmi-cec-remote-in-kodi/">Configuring a HDMI-CEC Remote in Kodi</a>
      </li>
    
      <li class="post">
        <a href="/2015/03/24/git-reset-cheatsheet/">Git Reset Cheatsheet</a>
      </li>
    
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Steven Occhipinti -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'stevenocchipinticom';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
