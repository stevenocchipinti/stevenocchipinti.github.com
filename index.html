
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->

<head>


<meta charset="utf-8">
<meta http-equiv="cleartype" content="on">

<title>Steven Occhipinti</title>
<meta name="author" content="Steven Occhipinti">




<meta name="description" content="When I learn something cool, I'll try to record it here so I don't forget and maybe someone else may benefit from it too">

<meta name="keywords" content=" ">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Twitter Cards -->

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/images/hero.jpg"
  
  <meta name="twitter:title" content="Steven Occhipinti">
  <meta name="twitter:description" content="When I learn something cool, I'll try to record it here so I don't forget and maybe someone else may benefit from it too">
  <meta name="twitter:creator" content="@steveocchipinti">


<!-- Open Graph -->
<meta property="og:local" content="en_US">
<meta property="og:type" content="article">
<meta property="og:url" content="http://blog.stevenocchipinti.com">
<meta property="og:title" content="Steven Occhipinti">
<meta property="og:description" content="When I learn something cool, I'll try to record it here so I don't forget and maybe someone else may benefit from it too">

  <meta property="og:image" content="/images/hero.jpg">

<meta property="og:site_name" content="Steven Occhipinti">

<link rel="canonical" href="http://blog.stevenocchipinti.com">
<link href="/favicon.ico" rel="icon">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href="/atom.xml" rel="alternate" title="Steven Occhipinti" type="application/atom+xml">

<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
<script>Modernizr || document.write('<script src="/javascripts/vendor/modernizr-2.6.2.custom.min.js"><\/script>') </script>



<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


</head>

<body id="post-index" class="feature">
  <!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
  <nav id="dl-menu" class="dl-menuwrapper" role="navigation">
  <button class="dl-trigger">Open Menu</button>
  <ul class="dl-menu">
    <li>
      <a href="/"><i class="fa fa-home"></i>Home</a>
    </li>
    <li>
      <a href="#"><i class="fa fa-user"></i> About Me</a>
      <ul class="dl-submenu">
        <li>
          <img src="https://www.gravatar.com/avatar/207d31274969a51f4bbfedf875b54eb5.png?s=500" alt="Steven Occhipinti photo" class="author-photo">
          <h4>Steven Occhipinti</h4>
          <p></p>
        </li>
        
        
        <li>
          <a href="https://github.com/stevenocchipinti"><i class="fa fa-github"></i> GitHub</a>
        </li>
        <li>
          <a href="https://twitter.com/steveocchipinti"><i class="fa fa-twitter"></i> Twitter</a>
        </li>
        
        <li>
          <a href="http://flickr.com/stevenocchipinti"><i class="fa fa-flickr"></i> Flickr</a>
        </li>
        <li>
          <a href="http://facebook.com/stevenocchipinti"><i class="fa fa-facebook"></i> Facebook</a>
        </li>
        <li>
          <a href="http://au.linkedin.com/pub/steve-occhipinti/18/55/750"><i class="fa fa-linkedin"></i> LinkedIn</a>
        </li>
      </ul><!-- /.dl-submenu -->
    </li>
    <li>
      <a href="#"><i class="fa fa-bars"></i> Posts</a>
      <ul class="dl-submenu">
        <li>
          <a href="/posts/"><i class="fa fa-calendar"></i> By Year</a>
        </li>
        <li>
          <a href="/categories/"><i class="fa fa-tag"></i> By Category</a>
        </li>
      </ul>
    </li>
    <li>
      <a onclick="setTimeout(function() {$('.searchbox').focus();}, 500);" href="#"><i class="fa fa-search"></i> Search</a>
      <ul class="dl-submenu">
        <li>
          <style>
            .searchbox:focus {
              outline: 0;
            }
            .searchbox {
              background-color: #222;
              color: white;
              border: 0;
              height: 50px;
              width: 100%;
              padding-left: 20px;
            }
          </style>
          <form onsubmit="window.location.href='https://google.com/search?q=site:blog.stevenocchipinti.com+' + this.q.value;return false;" action="">
            <input class="searchbox" type="text" name="q" placeholder="Search">
          </form>
        </li>
      </ul>
    </li>
    <li>
      <a href="/projects/"><i class="fa fa-code"></i> Projects</a>
    </li>
    <li>
      <a href="/travel/"><i class="fa fa-plane"></i> Travel</a>
    </li>
    
  </ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


  <div class="entry-header">
    
    <div class="entry-image">
      
      <img src="/images/hero.jpg" alt="">
      
    </div><!-- /.entry-image -->
    <div class="header-title">
      <div class="header-title-wrap">
        <h1>Steven Occhipinti</h1>
        <h2>Philomathic Coder</h2>
      </div><!-- /.header-title-wrap -->
    </div><!-- /.header-title -->
  </div><!-- /.entry-header -->

  <div id="main" role="main">
    

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2016-12-28T14:04:00+11:00">
        <a href="/2016/12/28/search-and-replace-vim-and-git/">December 28, 2016</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2016/12/28/search-and-replace-vim-and-git/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2016/12/28/search-and-replace-vim-and-git/" rel="bookmark" title="Search and Replace, Vim and Git" itemprop="url">Search and Replace, Vim and Git</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>Git provides some nice utility functionality that can make a vim development
environment much nicer. With recent updates to Vim it can now execute a command
for every item in the quickfix list (<code>:cdo</code>) and location list (<code>:ldo</code>). These
features work together quite nicely.</p>

<p>This new functionality has been introduced to vim from version 7.4.858 and is
therefore available in vim8 and also available in neovim.</p>

<h2>The Old Way</h2>

<p>Back in 2011 I wrote a
<a href="http://blog.stevenocchipinti.com/2011/05/search-and-replace-in-multiple-files.html/">post about doing search and replace across multiple files</a>
with just the basic vim functionality. It&rsquo;s quite common to use the arg list
because its easy to add to:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span><span class="k">arg</span> *.<span class="nb">js</span>
</span><span class='line'><span class="p">:</span><span class="k">arg</span> `git <span class="k">ls</span><span class="p">-</span><span class="k">files</span>`
</span></code></pre></td></tr></table></div></figure>


<p>and it&rsquo;s easy to execute commands:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span><span class="k">argdo</span> %<span class="k">s</span><span class="sr">/foo/</span><span class="k">bar</span>/gc
</span></code></pre></td></tr></table></div></figure>


<h2>The New Way</h2>

<p>Now that we can execute a command from the quickfix and location lists it is
much easier to make larger, more controlled edits with the help of other
features or plugins.</p>

<p>If you use <code>syntastic</code> or <code>neomake</code> for linting, a compiler via the <code>:make</code>
command, the built in <code>:grep</code> or <code>:vimgrep</code> commands or any number of other
plugins that integrate with these lists, such as
<a href="https://github.com/tpope/vim-fugitive">vim-fugitive</a>, you can take advantage of
<code>:cdo</code> and <code>:ldo</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span><span class="k">grep</span> foo **/*.<span class="nb">js</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you can execute commands like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span>cdo <span class="k">s</span><span class="sr">/foo/</span><span class="k">bar</span>/gc
</span></code></pre></td></tr></table></div></figure>


<h2>Git Is Awesome</h2>

<p>Git is incredibly powerful and I often use a couple of features that are often
overlooked:</p>

<ul>
<li><code>git ls-files</code> - recursively list all the files in the repo</li>
<li><code>git grep</code> - grep through all the files in the repo</li>
</ul>


<p>One of the reasons these commands are so good is because by default they will
ignore the items in the <code>.gitignore</code> file.</p>

<p>I tend to work with javascript a fair bit and having an easy way to avoid those
nasty <code>node_modules</code> directories readily available is great! Best of all, these
tools are available on just about every machine I work, on including the
machines of other peoples that I pair with.</p>

<h2>My Workflow</h2>

<p>I use <code>ctrl-p</code> in vim and rather than relying on yet another third party tool
like <code>ack</code> or <code>ag</code>, I&rsquo;ve configured <code>crtl-p</code> like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="k">let</span> <span class="k">g</span>:ctrlp_user_command <span class="p">=</span> [
</span><span class='line'>\  <span class="s1">&#39;.git&#39;</span><span class="p">,</span>
</span><span class='line'>\  <span class="s1">&#39;cd %s &amp;&amp; git ls-files . -co --exclude-standard&#39;</span><span class="p">,</span>
</span><span class='line'>\  <span class="s1">&#39;find %s -type f&#39;</span>
</span><span class='line'>\]
</span></code></pre></td></tr></table></div></figure>


<p>It is super fast and I haven&rsquo;t come across a situation where I need ctrl-p for a
large enough non-git repo and <code>find</code> wasn&rsquo;t good enough for&hellip; yet!</p>

<p>If you use <a href="https://github.com/tpope/vim-fugitive">vim-fugitive</a>, there is also
a <code>:Ggrep</code> command that behaves much like the builtin <code>:grep</code> command, but it
will ignore the <code>.gitignore</code> items. I use this quite a lot too:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span>Ggrep foo
</span><span class='line'><span class="p">:</span>Ggrep foo **/*.<span class="nb">js</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you can execute commands in the same manner as above:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="p">:</span>cdo <span class="k">s</span><span class="sr">/foo/</span><span class="k">bar</span>/gc
</span></code></pre></td></tr></table></div></figure>


<p>Because I use this so often, I&rsquo;ve added the following mapping to my config to
automatically search for the token under my cursor:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'>map <span class="p">&lt;</span>leader<span class="p">&gt;</span><span class="k">g</span> :Ggrep<span class="p">!</span>  <span class="p">&lt;</span>Bar<span class="p">&gt;</span> <span class="k">copen</span>
</span></code></pre></td></tr></table></div></figure>


  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2016-12-28T09:36:00+11:00">
        <a href="/2016/12/28/using-netrw-instead-of-nerdtree-for-vim/">December 28, 2016</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2016/12/28/using-netrw-instead-of-nerdtree-for-vim/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2016/12/28/using-netrw-instead-of-nerdtree-for-vim/" rel="bookmark" title="Using Netrw Instead of NERDTree for Vim" itemprop="url">Using Netrw Instead of NERDTree for Vim</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>I&rsquo;m going to attempt to use netrw exclusively for a while instead of NERDTree.
Mainly because not everyone has NERDTree, but everyone I work with will
generally have netrw installed by default so I thought I should be become more
proficient with it.</p>

<p>This post should provide me something I can quickly refer back to when I get
stuck. Netrw has a lot of features and the help page is pretty comprehensive.
It&rsquo;s worth a quick look, at least at the table of contents. It&rsquo;s available by
typing <code>:help netrw</code>.</p>

<p>There is also a quick reference for the mapping by typing <code>:help netrw-quickmap</code>
and one for the commands by typing <code>:help netrw-quickcom</code>.</p>

<h2>Navigation</h2>

<p>Navigating around netrw is pretty intuitive, you use the arrows (or hjkl) to
move around and <code>enter</code> to open files or directories. These windows are just
like any other window in vim so most of the usual motions, etc. work except
netrw adds some default mappings. Here are the basics for navigation:</p>

<p><code>enter</code>  -  Open files/directories<br/>
<code>-</code>      -  Go up one directory<br/>
<code>u</code>      -  Go back to previously visited directory (like <code>&lt;C-o&gt;</code> in vim)<br/>
<code>U</code>      -  Go forward to subsequently visited directory (like <code>&lt;C-i&gt;</code> in vim)</p>

<p><code>enter</code> works just fine to open files and directories, but there are some other
options available too:</p>

<p><code>o</code>  -  Open file/directory in new horizontal split<br/>
<code>v</code>  -  Open file/directory in new vertical split<br/>
<code>t</code>  -  Open file/directory in new tab<br/>
<code>p</code>  -  Preview file without (moving the cursor from netrw)<br/>
<code>x</code>  -  Open the file/directory with the default system app</p>

<h2>Appearance and Behaviour</h2>

<p>One of the first things I noticed when making the switch was when you press
<code>enter</code> on a directory, instead of displaying the contents of the sub-directory
inline, it would replace the whole buffer with the contents of the
sub-directory.</p>

<p>This is because by default netrw doesn&rsquo;t use a tree to display the
files/directories, its more like doing an <code>ls</code> but you can configure netrw to
print a tree and have the same behaviour as NERDTree with this mapping:</p>

<p><code>i</code> - Cycle between different listing modes (one of them is tree mode)</p>

<ul>
<li>In normal mode, <code>enter</code> will move into and show the given file/directory</li>
<li>In tree mode, <code>enter</code> will show the contents of the sub-directory in addition</li>
</ul>


<p>While netrw doesn&rsquo;t look as nice as NERDTree, it still has a lot of options to
customize the way it looks and works.</p>

<p><code>I</code>   -  Toggle the banner<br/>
<code>c</code>   -  Make the browsing directory the current working directory<br/>
<code>gn</code>  -  Make the directory under the cursor the top of the tree<br/>
<code>gh</code>  -  Toggle hidden files on or off<br/>
<code>a</code>   -  Cycle between all files, not hidden files or just hidden files visible<br/>
<code>s</code>   -  Cycle sort order between name, time or filesize<br/>
<code>r</code>   -  Reverse sort order</p>

<h2>File Operations</h2>

<p>It&rsquo;s also pretty easy to do basic file operations:</p>

<p><code>%</code>   -  Create a new file<br/>
<code>d</code>   -  Create a new directory<br/>
<code>D</code>   -  Delete the file/directory under the cursor (or marked files/dirs)<br/>
<code>R</code>   -  Rename/move file/directory</p>

<p>Copying files however is a little more involved. You need to mark the files you
want to copy, mark the destination, then execute the operation (a little
tedious):</p>

<p><code>mf</code>  -  Toggle whether the file/directory is marked<br/>
<code>mt</code>  -  Mark the directory under the cursor as the copy target<br/>
<code>mc</code>  -  Execute the copy operation<br/>
<code>mu</code>  -  Unmark all marked items</p>

<h2>Commands</h2>

<p>To open netrw is easy. You can use all the same commands you would use to open a
file except give them a directory. You can use the command line with <code>vim .</code> or
within vim with the commands below. These commands don&rsquo;t even need a space
between it and its arguments, so its very few keystrokes:</p>

<p><code>:e.</code>     - Open the current directory normally<br/>
<code>:sp.</code>    - Open the current directory in a horizontal split<br/>
<code>:vs.</code>    - Open the current directory in a vertical split<br/>
<code>:tabe.</code>  - Open the current directory in a new tab</p>

<p>These will all work, unless you have installed an alternative explorer plugin
(like NERDTree), in which case you can explicitly open netrw with <code>:Ntree</code>.</p>

<p>Netrw also provides a lot of different ways to launch an explorer window. The
most common command is <code>:Explore</code> which will open netrw in the directory of the
currently open file, much like the <code>:NERDTreeFind</code> command. Here are some
variations of that command:</p>

<p><code>:Ex</code>    -  Use current buffer if available, otherwise split horizontally<br/>
<code>:Ex!</code>   -  Use current buffer if available, otherwise split vertically</p>

<p><code>:Sex!</code>  -  Horizontal split<br/>
<code>:Hex</code>   -  Horizontal split<br/>
<code>:Hex!</code>  -  Horizontal split (opposite side)</p>

<p><code>:Sex</code>   -  Vertical split<br/>
<code>:Vex</code>   -  Vertical split<br/>
<code>:Vex!</code>  -  Vertical split (opposite side)</p>

<p><code>:Tex</code>   -  New tab, directory of currently open buffer</p>

<p>There is another variation that doesn&rsquo;t use the directory of currently open
buffer but uses the current working directory. This is one is the most similar
to the default <code>:NERDTree</code> command.</p>

<p><code>:Lex</code>   -  Vertical split full height, current working directory<br/>
<code>:Lex!</code>  -  Vertical split, current working directory (opposite side)</p>

<p>All these commands can also take a directory as an argument.</p>

<h2>Basic Configuration</h2>

<p>I didn&rsquo;t want to customize too much because that would defeat the purpose of the
learning the defaults, but I did want to turn off that banner (it was handy
having the basic operations on display, but I don&rsquo;t think I need it anymore).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='vim'><span class='line'><span class="k">let</span> <span class="k">g</span>:netrw_banner<span class="p">=</span><span class="m">0</span>
</span><span class='line'><span class="k">let</span> <span class="k">g</span>:netrw_list_hide <span class="p">=</span> <span class="s1">&#39;\(^\|\s\s\)\zs\.\S\+,\(^\|\s\s\)ntuser\.\S\+&#39;</span>
</span><span class='line'><span class="k">autocmd</span> <span class="nb">FileType</span> netrw <span class="k">set</span> <span class="nb">nolist</span>
</span></code></pre></td></tr></table></div></figure>


<h2>More Features</h2>

<p>There is more to explore with netrw, such as working with bookmarks and pattern
listings, but this post should have enough of the basics to be productive.
Checkout <code>:help netrw</code> for more features.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2016-12-28T02:30:00+11:00">
        <a href="/2016/12/28/different-author-email-addresses-per-git-repository/">December 28, 2016</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2016/12/28/different-author-email-addresses-per-git-repository/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2016/12/28/different-author-email-addresses-per-git-repository/" rel="bookmark" title="Different Author Email Addresses Per Git Repository" itemprop="url">Different Author Email Addresses Per Git Repository</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>Git v2.8 introduced a new configuration option called <code>user.useconfigonly</code>. This
option prevents git from trying to guess your email address to use for the
author metadata for a commit and forces you to have configured one.</p>

<p>This is great news because with a good workflow in place you can be sure you
always have the correct email addresses on your commits.</p>

<h2>Global Configuration</h2>

<p>If <code>user.useconfigonly</code> is set to <code>true</code>, you will need to configure an email
address. The simplest way is with this command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config --global user.name 'Steve Occhipinti'
</span><span class='line'>git config --global user.email steve@example.com</span></code></pre></td></tr></table></div></figure>


<p>Which will result in a configuration like this saved in <code>~/.gitconfig</code>:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>[user]
</span><span class='line'>  name = Steve Occhipinti
</span><span class='line'>  email = steve@example.com</span></code></pre></td></tr></table></div></figure>


<p>This is great, but what if you want to work on personal projects and work
projects on the same machine?</p>

<h2>Per Repository Configuration</h2>

<p>Instead of using the global config in the home directory, git will first look
for a local configuration in <code>./.git/config</code>. To set per repository
configuration, all you have to do is <code>cd</code> to the repo and run the same commands
but without the <code>--global</code> flag:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config user.name 'Steve Occhipinti'
</span><span class='line'>git config user.email steve@example.com</span></code></pre></td></tr></table></div></figure>


<h2>Mixing Work And Personal</h2>

<p>If you have a global configuration, all repositories will use that as a default
unless you remember to set a per-repository config. If you don&rsquo;t set a global
config, git will normally guess what your email is and use that if its valid.</p>

<p>If you set the <code>useconfigonly</code> option and remove your global config, git will
not allow you to make a commit until you&rsquo;ve setup your user details and this
will prevent accidentally using your work email address on a personal project or
vice-versa.</p>

<p>However, I do leave my name configured globally as that is not going to change
between repositories.</p>

<h2>Visual Queues</h2>

<p>Having that error appear when you haven&rsquo;t setup an email address is great, but
rather than waiting for me to make a mistake, I added an exclamation mark
indicator to my shell prompt to remind me to set up the user details.</p>

<p>The basic idea is something like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">local </span>noauthor
</span><span class='line'>git config user.email &gt; /dev/null <span class="o">||</span> <span class="nv">noauthor</span><span class="o">=</span><span class="s2">&quot;!&quot;</span>
</span><span class='line'><span class="nb">export</span> <span class="nv">$PS1</span><span class="o">=</span><span class="s2">&quot;$noauthor${PS1}&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Quicker Configuration</h2>

<p>If this is something that I will have to do for every repo I create or clone, I
want to it be pain free. Git makes it really easy to create new sub commands
simply by putting a script named <code>git-xxxx</code> in the path, where <code>xxxx</code> is the
sub command name.</p>

<p>I created a <code>git-author</code> script like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="nb">set</span> -e
</span><span class='line'>
</span><span class='line'><span class="nv">email_list_file</span><span class="o">=</span><span class="s2">&quot;$HOME/.config/git/author-emails&quot;</span>
</span><span class='line'><span class="nv">has_pecorb</span><span class="o">=</span><span class="k">$(</span><span class="nb">type </span>pecorb &gt; /dev/null 2&gt;<span class="p">&amp;</span>1<span class="k">)</span>
</span><span class='line'>
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;Current author: $(git config user.name) &lt;$(git config user.email)&gt;&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">[</span> -f <span class="nv">$email_list_file</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nv">$has_pecorb</span><span class="p">;</span> <span class="k">then</span>
</span><span class='line'>  <span class="nv">email</span><span class="o">=</span><span class="k">$(</span>pecorb <span class="nv">$email_list_file</span><span class="k">)</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>  <span class="nb">echo</span> -n <span class="s2">&quot;Enter a new email address: &quot;</span>
</span><span class='line'>  <span class="nb">read </span>email
</span><span class='line'><span class="k">fi</span>
</span><span class='line'>
</span><span class='line'>git config user.email <span class="nv">$email</span>
</span></code></pre></td></tr></table></div></figure>


<p>Now when go to a repo and I see my <code>!</code> indicator, all I have to do is run <code>git
author</code>.</p>

<p>This allows me to put all my email addresses in a file and then select the one I
want from a nice menu. Note, I&rsquo;m using <code>pecorb</code> here which is a
<a href="https://github.com/stevenocchipinti/pecorb">gem I wrote</a> to generate selectable
menus on the command line, but there are plenty of
<a href="https://github.com/stevenocchipinti/pecorb#kudos">alternatives</a> or you could
just use <code>read</code> in <code>bash</code> and type it in (which my script falls back to).</p>

<h2>My Bash Prompt</h2>

<p>The prompt I use may not be the tidiest, but its available
<a href="https://github.com/stevenocchipinti/homesync/blob/1a345e563afb47b81d405d47e4a6b45b63e82c98/data/.bash_git">here</a>.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2016-12-28T01:53:00+11:00">
        <a href="/2016/12/28/windows-starting-up-by-itself-at-random-times/">December 28, 2016</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2016/12/28/windows-starting-up-by-itself-at-random-times/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2016/12/28/windows-starting-up-by-itself-at-random-times/" rel="bookmark" title="Windows Starting Up by Itself at Random Times" itemprop="url">Windows Starting Up by Itself at Random Times</a>
    </h1>
  
</header>

<div class="entry-content">
  <h2>The Machine</h2>

<p>My gaming computer runs Microsoft Windows 10 and has the following hardware:</p>

<p><strong>Case:</strong> Corsair Carbide Air 240<br/>
<strong>CPU:</strong> Intel Core i5 4690<br/>
<strong>Motherboard:</strong> ASUS Z97M-PLUS<br/>
<strong>RAM:</strong> Corsair Vengence Pro 1600C9R (2x4GB)<br/>
<strong>GPU:</strong> Sapphire R9 280X Dual-X OC 3GB<br/>
<strong>PSU:</strong> Silverstone Strider Gold 750w ST75F-GS<br/>
<strong>SSD:</strong> Corsair Force LS 120GB<br/>
<strong>Cooler:</strong> Corsair H100i<br/>
<strong>Fans:</strong> Corsair AIR SP120 Twin Pack</p>

<h2>The Problem</h2>

<p>Sometimes my computer would turn it self on at some random time. It
wasn&rsquo;t at a particular repeatable time, but just every now and then.</p>

<h2>What I Tried</h2>

<ul>
<li>Disabling the <em>Fast Boot</em> app</li>
<li>Uninstalling the <em>Fast Boot</em> app</li>
<li>Experimenting with various BIOS settings</li>
<li>Disabling <em>boot from network</em> (from BIOS boot priorities)</li>
<li>Power options -> power-plan -> advanced -> PCIe -> link state power management</li>
<li>(&hellip; and a few more that I can&rsquo;t remember)</li>
</ul>


<p>But after all that, it would still turn on every couple of days.</p>

<h2>The Solution</h2>

<p>Eventually I found and disabled <em>Windows Fast Start</em>:</p>

<ul>
<li>Power options -> system (choose buttons) -> fast startup</li>
</ul>


<p>This turned out to be the culprit and now my computer and I can both stop
working through the night!</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-06-01T00:08:00+10:00">
        <a href="/2015/06/01/rewriting-author-and-email-in-every-commit/">June 01, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/06/01/rewriting-author-and-email-in-every-commit/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/06/01/rewriting-author-and-email-in-every-commit/" rel="bookmark" title="Rewriting Author and Email in Every Commit" itemprop="url">Rewriting Author and Email in Every Commit</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>Following on from a previous post about <a href="http://blog.stevenocchipinti.com/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/">rewriting indentation for an entire git repo</a>,
another reason to rewrite the history of a whole repo is to change the email
address or name mentioned in commits.</p>

<p>Once again, be aware that rewriting history will cause problems if other people
have clones of the repo so make sure you understand the risks before doing
this!</p>

<p>To change the author name and email address for every commit, you can run this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git filter-branch -f --env-filter <span class="s2">&quot;</span>
</span><span class='line'><span class="s2">  GIT_AUTHOR_NAME=&#39;YOUR_NAME&#39;</span>
</span><span class='line'><span class="s2">  GIT_AUTHOR_EMAIL=&#39;YOUR_EMAIL&#39;</span>
</span><span class='line'><span class="s2">  GIT_COMMITTER_NAME=&#39;YOUR_NAME&#39;</span>
</span><span class='line'><span class="s2">  GIT_COMMITTER_EMAIL=&#39;YOUR_EMAIL&#39;</span>
</span><span class='line'><span class="s2">&quot;</span> HEAD
</span></code></pre></td></tr></table></div></figure>


<p>This will blindly replace all the commits with the details given, but if other
people have contributed, you may need to be a bit more careful and only replace
your own:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git filter-branch --commit-filter <span class="s2">&quot;</span>
</span><span class='line'><span class="s2">  if [ &quot;</span><span class="nv">$GIT_COMMITTER_NAME</span><span class="s2">&quot; = &#39;YOUR_ORIGINAL_NAME&#39;];</span>
</span><span class='line'><span class="s2">  then</span>
</span><span class='line'><span class="s2">    GIT_AUTHOR_NAME=&#39;YOUR_NEW_NAME&#39;</span>
</span><span class='line'><span class="s2">    GIT_AUTHOR_EMAIL=&#39;YOUR_NEW_EMAIL&#39;</span>
</span><span class='line'><span class="s2">    GIT_COMMITTER_NAME=&#39;YOUR_NEW_NAME&#39;</span>
</span><span class='line'><span class="s2">    GIT_COMMITTER_EMAIL=&#39;YOUR_NEW_EMAIL&#39;</span>
</span><span class='line'><span class="s2">    git commit-tree &quot;</span><span class="nv">$@</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">  else</span>
</span><span class='line'><span class="s2">    git commit-tree &quot;</span><span class="nv">$@</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">  fi</span>
</span><span class='line'><span class="s2">&quot;</span> HEAD
</span></code></pre></td></tr></table></div></figure>


<p>If you understand the risks of rewriting history for a shared repository, you
can force push with the <code>-f</code> flag:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git push -f
</span></code></pre></td></tr></table></div></figure>


<p>Then, to ensure future commits don&rsquo;t use the wrong name and email, you can set
it explicity for this particular repo (instead of globally) with these
commands:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git config user.email <span class="s2">&quot;your_email@example.com&quot;</span>
</span><span class='line'>git config user.email <span class="s2">&quot;your_email@example.com&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Keep in mind this will only work for this particular clone as the details will
be stored locally in <code>.git/config</code>.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-05-26T13:03:00+10:00">
        <a href="/2015/05/26/how-to-keep-environment-variables-when-using-sudo/">May 26, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/05/26/how-to-keep-environment-variables-when-using-sudo/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/05/26/how-to-keep-environment-variables-when-using-sudo/" rel="bookmark" title="How to Keep Environment Variables When Using Sudo" itemprop="url">How to Keep Environment Variables When Using Sudo</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>By default, the <code>sudo</code> command does not pass your current shell environment to
the new process.</p>

<p>I&rsquo;ve added the function below to my bash configuration which will gives me an
<code>esudo</code> command. This command works much like <code>sudo</code> but it will pass my current
environment to the new process.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="k">function</span> esudo <span class="o">{</span> sudo -E bash -c <span class="s2">&quot;$*&quot;</span><span class="p">;</span> <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you use a ruby version manager, you&rsquo;ll know that they generally rely on
environment variables, so <code>rvm</code> provide the <code>rvmsudo</code> command for this purpose.
I&rsquo;ve since switched to <code>chruby</code> and I couldn&rsquo;t seem to find an equivalent, but
this has solved the issue for me.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-05-17T18:16:00+10:00">
        <a href="/2015/05/17/regex-lookaround-cheatsheet/">May 17, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/05/17/regex-lookaround-cheatsheet/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/05/17/regex-lookaround-cheatsheet/" rel="bookmark" title="Regex Lookaround Cheatsheet" itemprop="url">Regex Lookaround Cheatsheet</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>I have a fairly terrible memory but I&rsquo;ve found writing and referring back to
cheatsheets to be a pretty effective way to memorize things.</p>

<p>I ended up referring back to my previous
<a href="http://blog.stevenocchipinti.com/2015/03/24/git-reset-cheatsheet/">cheatsheet on <code>git reset</code></a>
quite a few times soon after I wrote it, so when I came across
<a href="http://idiosyncratic-ruby.com/11-regular-extremism.html">this great post on regex features in ruby</a>
I thought I&rsquo;d share the lookarounds section because I <em>always</em> forget those too!</p>

<table>
<thead>
<tr>
<th> Syntax   </th>
<th> Description         </th>
<th> Example                  </th>
<th> Result </th>
</tr>
</thead>
<tbody>
<tr>
<td> <code>(?=X)</code>  </td>
<td> Positive lookahead  </td>
<td> <code>"Ruby"[/.(?=b)/]</code>       </td>
<td> <code>"u"</code>  </td>
</tr>
<tr>
<td> <code>(?!X)</code>  </td>
<td> Negative lookahead  </td>
<td> <code>"Ruby"[/.(?!u)/]</code>       </td>
<td> <code>"u"</code>  </td>
</tr>
<tr>
<td> <code>(?&lt;=X)</code> </td>
<td> Positive lookbehind </td>
<td> <code>"Ruby"[/(?&lt;=u)./]</code>      </td>
<td> <code>"b"</code>  </td>
</tr>
<tr>
<td> <code>(?&lt;!X)</code> </td>
<td> Negative lookbehind </td>
<td> <code>"Ruby"[/(?&lt;!R|^)./]</code>   </td>
<td> <code>"b"</code>  </td>
</tr>
</tbody>
</table>


<p>Checkout the <a href="http://idiosyncratic-ruby.com/11-regular-extremism.html">original blog post</a>
for the rest of the regex tips or the
<a href="http://idiosyncratic-ruby.com">Idiosyncratic Ruby site</a> for more ruby tips!</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-04-30T21:51:00+10:00">
        <a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/">April 30, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/04/30/rewriting-indentation-in-every-file-and-every-commit/" rel="bookmark" title="Rewriting Indentation in Every File and Every Commit" itemprop="url">Rewriting Indentation in Every File and Every Commit</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>It seems the JavaScript community is divided into two camps when it comes to
indentation conventions: two spaces or four?</p>

<p>I personally prefer two spaces mainly because its what I&rsquo;m used to in Ruby, I
find it easier on the eyes and just that little bit easier to keep my lines
under 80 characters long (yes, I still think this is good practice).</p>

<p>Our team had come to a general consensus for using two spaces, but when we were
starting a new project based on an existing project that used four spaces, we
thought it would be nice to fix all the whitespace in one go.</p>

<p>In a rush, we made a commit that literally replaced all the whitespace with the
following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>find . -type f -exec sed -i <span class="s2">&quot;&quot;</span> <span class="s2">&quot;s/    /  /g&quot;</span> <span class="o">{}</span> <span class="se">\;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The problem with this approach is that it makes going through commit messages
harder. It means that when you use <code>git annotate</code>, every line with indentation
is going to have the whitespace fix as the last commit, so then you would have
to jump back another commit to get the actual commit message for that line,
which can be fairly annoying.</p>

<p>Luckily, if you are forking an existing repository for a new project you have
the luxury of being able to rewrite history without causing any pain to others
as no one else would have checked it out yet.</p>

<p>Git provides a powerful command called <code>filter-branch</code>. It is designed to
rewrite large amounts of history in one go. This can be useful to purge
sensitive information from every commit or update an email address in the
commit data, etc. The only problem with this is, just like rebasing, any
existing checkouts will not be able to simply use <code>git pull</code> cleanly after the
history has been rewritten upstream, but this isn&rsquo;t a problem for new projects.</p>

<p>In order to execute the command above for every commit in our repo, we can make
use of the <code>--tree-filter</code> option like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git filter-branch --tree-filter <span class="s1">&#39;find . -type f -exec sed -i &quot;&quot; &quot;s/    /  /g&quot; {} \;&#39;</span> HEAD
</span></code></pre></td></tr></table></div></figure>


<p>Please note, this can take quite some time, especially for large repositories.
You should also make sure there are no files that specifically need four spaces
(like markdown files, etc.), otherwise you may want to restrict the <code>find</code>
command to only effect files you know are safe to change (<code>*.js</code> for example).</p>

<p>For more information on rewriting history and <code>git filter-branch</code>, see this
<a href="https://git-scm.herokuapp.com/book/en/v2/Git-Tools-Rewriting-History#The-Nuclear-Option:-filter-branch">article</a>
and the
<a href="https://git-scm.herokuapp.com/docs/git-filter-branch">documentation</a>.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-04-25T17:39:00+10:00">
        <a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/">April 25, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/04/25/safely-rendering-newlines-in-html-with-css/" rel="bookmark" title="Safely Rendering Newlines in HTML With CSS" itemprop="url">Safely Rendering Newlines in HTML With CSS</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>We all know that if you are going to be rendering user provided content on a
HTML page, it should be sanitized just in case they include a nasty script tag
or something.</p>

<p><a href="https://facebook.github.io/react/">React</a>
will automatically sanitize any string being rendered to the screen unless you
<a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html">jump through hoops</a>
first - which is great because making this difficult means its somewhat harder
to inadvertently create a
<a href="https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29">XSS vulnerability</a>.</p>

<p>However, if you get a string from a human source and want to display that in a
<code>div</code> tag while maintaining its newlines, this becomes a little harder because
you don&rsquo;t want to replace all <code>\n</code> characters with <code>&lt;br /&gt;</code> tags because this
would mean you would also need to disable the sanitizing.</p>

<p>There are some libraries to deal with this sort of thing that implement white
listing of tags, etc.<br/>
Another alternative would be using something like
<a href="https://daringfireball.net/projects/markdown/">Markdown</a>.<br/>
Even a simple <code>&lt;pre&gt;</code> tag will get you pretty far, but today I read an article
that shows how you can achieve this with a little CSS:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nc">.pre</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">white-space</span><span class="o">:</span> <span class="n">pre</span><span class="o">-</span><span class="n">line</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>For more details, I recommend having a read of
<a href="https://css-tricks.com/almanac/properties/w/whitespace/">this article</a>.</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->

<article class="hentry">
  



<header>
  <div class="entry-meta">
    <span class="entry-date date published updated">
      <time datetime="2015-04-12T16:20:00+10:00">
        <a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/">April 12, 2015</a>
      </time>
    </span>
    <span class="author vcard">
      <span class="fn">
        <a href="" title="About Steven Occhipinti">Steven Occhipinti</a>
      </span>
    </span>
    
      &nbsp; &bull; &nbsp;<span class="entry-comments">
        <a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/#disqus_thread">Comment</a>
      </span>
    
  </div><!-- /.entry-meta -->
  
    <h1 class="entry-title">
      <a href="/2015/04/12/disabling-the-single-origin-policy-in-chrome/" rel="bookmark" title="Disabling the Same Origin Policy in Chrome" itemprop="url">Disabling the Same Origin Policy in Chrome</a>
    </h1>
  
</header>

<div class="entry-content">
  <p>If you ever needed to circumvent the browsers
<a href="https://en.wikipedia.org/wiki/Same-origin_policy">Same Origin Policy (SOP)</a>
so you don&rsquo;t need to add
<a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross Origin Resource Sharing (CORS)</a>
headers just to test out an idea, here is a quick little hack to open a new
instance of Chrome that will not enforce these security features:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>alias unsafe-chrome='/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --user-data-dir=~/Library/Application\ Support/Google/UnsafeChrome --disable-web-security 2&gt; /dev/null'</span></code></pre></td></tr></table></div></figure>


<p>The important options here are:</p>

<p><code>--disable-web-security</code> - This will disable the Same Origin Policy<br/>
<code>--user-data-dir=...</code> - This launches a separate instance, with its own user data
directory.<br/>
This prevents you from needing to close any current instances of chrome,
otherwise running this command will just bring the existing instance into focus.</p>

<p>Another good thing about giving this instance its own <code>user-data-dir</code> is that
you can give this instance its own settings. For example, this instance is not
signed into my Google account and I&rsquo;ve configured a bright red theme so I can
easily tell the difference between my normal Chrome and my insecure Chrome!</p>

  
  
</div><!-- /.entry-content -->





</article><!-- /.hentry -->


<div class="pagination">
  
  <a href="/archives">Blog Archives</a>
  
    <a href="" class="btn">Next</a>
  
</div><!-- /.pagination -->

  </div><!-- /#main -->

  <div class="footer-wrapper">
    <footer role="contentinfo">
      <span>&copy; 2016 Steven Occhipinti. Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/jez/hpstr-theme/">HPSTR Theme for Octopress</a>.</span>

    </footer>
  </div><!-- /.footer-wrapper -->

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/javascripts/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/javascripts/octopress.js" type="text/javascript"></script>
<script src="/javascripts/scripts.min.js"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38345732-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>





  

</body>
</html>
