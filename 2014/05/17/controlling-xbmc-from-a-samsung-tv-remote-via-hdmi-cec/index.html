
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Controlling XBMC from a Samsung TV remote via HDMI-CEC - StevenOcchipinti.com</title>
  <meta name="author" content="Steven Occhipinti">

  
  <meta name="description" content="Controlling XBMC from a Samsung TV remote via HDMI-CEC">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.stevenocchipinti.com/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="StevenOcchipinti.com" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38345732-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">StevenOcchipinti.com</a></h1>
  
    <h2>Coder.</h2>
  
</hgroup>

</header>
  <nav role="navigation">
  <form action="http://google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="q" value="site:blog.stevenocchipinti.com" />
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
  </form>

<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="https://github.com/stevenocchipinti">Code</a></li>
  <li><a href="http://www.flickr.com/photos/stevenocchipinti">Photography</a></li>
  <li><a href="/travel">Travel</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Controlling XBMC From a Samsung TV Remote via HDMI-CEC</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-17T11:55:00+10:00" pubdate data-updated="true">May 17<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I recently put <a href="http://www.raspbmc.com/">Raspbmc</a> on my Raspberry Pi and
connected it to my Samsung TV via a HDMI cable. Once XBMC had started up, there
was a notification telling me XBMC had connected to the TV via a HDMI-CEC
connection. This means that I can use my standard Samsung TV remote to control
XBMC on the Raspberry Pi out of the box!</p>

<p>The arrows and select buttons worked as expected. The red, green, yellow and
blue buttons were shortcuts to jump to the PVR, Video, Music and Pictures
screens (respectively), the TV Guide button also opened the PVR screen but
unfortunately the back button was configured to open the context menu.</p>

<p>I decided I wanted the back button to actually go back and since I&rsquo;m not using
the PVR function of XBMC, I wanted the TV Guide button to go to the home screen
and the red button to open the context menu.<br/>
In the end it was very easy, all I had to do was create a
<code>~/.xbmc/userdata/keymaps/remote.xml</code> file with the following contents in it:</p>

<figure class='code'><figcaption><span>~/.xbmc/userdata/keymaps/remote.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;keymap&gt;</span>
</span><span class='line'>  <span class="nt">&lt;global&gt;</span>
</span><span class='line'>    <span class="nt">&lt;remote&gt;</span>
</span><span class='line'>      <span class="nt">&lt;title&gt;</span>Back<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>      <span class="nt">&lt;red&gt;</span>ContextMenu<span class="nt">&lt;/red&gt;</span>
</span><span class='line'>      <span class="nt">&lt;green&gt;</span>XBMC.ActivateWindow(MyVideos)<span class="nt">&lt;/green&gt;</span>
</span><span class='line'>      <span class="nt">&lt;yellow&gt;</span>XBMC.ActivateWindow(MyMusic)<span class="nt">&lt;/yellow&gt;</span>
</span><span class='line'>      <span class="nt">&lt;blue&gt;</span>XBMC.ActivateWindow(MyPictures)<span class="nt">&lt;/blue&gt;</span>
</span><span class='line'>      <span class="nt">&lt;guide&gt;</span>XBMC.ActivateWindow(Home)<span class="nt">&lt;/guide&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/remote&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/global&gt;</span>
</span><span class='line'><span class="nt">&lt;/keymap&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>For some reason, the back button on the Samsung TV remote seemed to be sending
the &lsquo;title&rsquo; action, so I changed that to <code>Back</code> and the rest should be fairly
self-explanatory.</p>

<h2>Some Tips</h2>

<p>There are 2 keymap files that were relevant for me:</p>

<ul>
<li><code>~/.xbmc/userdata/keymaps/remote.xml</code></li>
<li><code>/opt/xbmc-bcm/xbmc-bin/share/xbmc/system/keymaps/remote.xml</code></li>
</ul>


<p>The first one provides overrides for the second one. Also note that changing
these files do not take effect straight away, the easiest way to make these
changes take effect is to restart the Raspberry Pi. You could also <a href="http://forum.xbmc.org/showthread.php?tid=98096">configure one of the buttons on the remote to reload the configuration</a>.</p>

<p>To get more information about which buttons send which actions, there are two
things that helped me.</p>

<h3>1. Enable debug level logging</h3>

<p>From the main menu in the UI, go to System &ndash;> System &ndash;> Debugging and &ldquo;Enable
debug logging&rdquo;. Then you can tail the log by SSH&#8217;ing into the Raspberry Pi
(default credentials are username=pi and password=raspberry) and running this
command:</p>

<figure class='code'><figcaption><span>~/.xbmc/userdata/keymaps/remote.xml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>tail -f ~/.xbmc/temp/xbmc.log
</span></code></pre></td></tr></table></div></figure>


<h3>2. Make all buttons send UI notifications</h3>

<p>This <a href="http://forum.xbmc.org/showthread.php?tid=139145">forum thread</a> shows how
you can configure the <code>remote.xml</code> file to make all the buttons send a UI
notification. This is helpful because you can just press the button you wish to
to change and see which section of the <code>remote.xml</code> you need to modify for your
own purposes.</p>

<h2>Conclusion</h2>

<p>With the addition of this small customization, HDMI-CEC has provided some
pretty impressive integration between my devices right out of the box.  With
the Samsung TV connected to the Samsung Bluray/Surround Sound via a HDMI cable
and the Raspberry Pi via a HDMI cable I can use the TV remote to control all
three of these devices seamlessly.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Steven Occhipinti</span></span>

      








  


<time datetime="2014-05-17T11:55:00+10:00" pubdate data-updated="true">May 17<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/categories/cec/'>cec</a>, <a class='category' href='/categories/hdmi/'>hdmi</a>, <a class='category' href='/categories/raspberrypi/'>raspberrypi</a>, <a class='category' href='/categories/samsung/'>samsung</a>, <a class='category' href='/categories/xbmc/'>xbmc</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.stevenocchipinti.com/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec/" data-via="steveocchipinti" data-counturl="http://blog.stevenocchipinti.com/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2014/03/17/introduction-to-vim-for-ide-users/" title="Previous Post: Introduction to Vim for IDE users">&laquo; Introduction to Vim for IDE users</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <ul class="social-icons">
    <li><a class="social-rss" href="/atom.xml" title="subscribe via RSS">RSS</a></li>
    <li><a class="social-github" href="https://github.com/stevenocchipinti" title="GitHub">GitHub</a></li>
    <li><a class="social-linkedin" href="http://au.linkedin.com/pub/steve-occhipinti/18/55/750" title="LinkedIn">LinkedIn</a></li>
    <li><a class="social-flickr" href="http://flickr.com/stevenocchipinti" title="Flickr">Flickr</a></li>
    <li><a class="social-twitter" href="http://twitter.com/steveocchipinti" title="Twitter">Twitter</a></li>
    <li><a class="social-facebook" href="http://facebook.com/stevenocchipinti" title="Facebook">Facebook</a></li>
  </ul>
  <div style="clear: both;"/>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec/">Controlling XBMC From a Samsung TV Remote via HDMI-CEC</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/17/introduction-to-vim-for-ide-users/">Introduction to Vim for IDE Users</a>
      </li>
    
      <li class="post">
        <a href="/2014/03/10/completely-removing-a-git-commit-due-to-sensitive-information/">Completely Removing a Git Commit Due to Sensitive Information</a>
      </li>
    
      <li class="post">
        <a href="/2013/12/14/preparing-for-trailwalker/">Preparing for TrailWalker</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/10/installing-minecraft-in-linux/">Installing Minecraft in Linux</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Steven Occhipinti -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'stevenocchipinticom';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.stevenocchipinti.com/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec/';
        var disqus_url = 'http://blog.stevenocchipinti.com/2014/05/17/controlling-xbmc-from-a-samsung-tv-remote-via-hdmi-cec/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
